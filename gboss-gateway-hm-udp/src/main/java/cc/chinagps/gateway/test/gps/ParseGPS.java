package cc.chinagps.gateway.test.gps;

import cc.chinagps.gateway.unit.seg.pkg.SegPackage;
import cc.chinagps.gateway.unit.seg.upload.beans.SegGPSInfo;
import cc.chinagps.gateway.unit.seg.util.SegPkgUtil;
import cc.chinagps.gateway.util.HexUtil;

public class ParseGPS {
	public static void main(String[] args) {
		//5BF1303130303130303030314A284F4E453032353833741323233322E303732394E31313335362E30303330453030302E30323130393131303130303030303030302644312657737A2D313030312642303130323530295D
		//String hex = "5B903231303030303030323037284F4E4530323331343241323233392EE53030394E31313334392EE5373439453030302E303030323131303133303030303030303029645D";
		String hex_obd = "5bc7303030303030303030305628544e412c3030322c302c323233322e313737324e2c31313335382e31333630452c42312c323233322e363738374e2c31313335362e36303935452c43312c323233332e303435304e2c31313430342e3931313145295d";
		//String hex_obd_travel = "5B4A303030303030303030308D2841434330303030303056303030302E303030303030303030302E30303030303030302E3030303030303030303030303030303030265335303630373037303830303230303630373037303830343030303030304141303045363030303030303030303030303030303030303030344532303030303030303030303030303030303031303030303030303030295D";
		byte[] source = HexUtil.hexToBytes(hex_obd);
		try {
			String str = new String(source, SegPkgUtil.PKG_CHAR_ENCODING);
			System.out.println("str:\n" + str);
			
			SegPackage pkg = SegPackage.parse(source);
			String strBody = new String(pkg.getBody(), SegPkgUtil.PKG_CHAR_ENCODING);
			System.out.println("strBody:" + strBody);
			SegGPSInfo gps = SegGPSInfo.parse(strBody, 4);
			System.out.println("gps:" + gps);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}