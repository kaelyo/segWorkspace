"use strict";function onbodyload(){var a,b;txtstarttime.value=SEGUtil_WS.date_2_string(new Date,"yyyy-MM-dd"),a=new Date,b=a.getDate(),b+=1,a.setDate(b),txtstoptime.value=SEGUtil_WS.date_2_string(a,"yyyy-MM-dd"),txtsn.value=Math.uuid(),document.getElementById("comcenterhost").value=location.host}function Connect(){try{var a=location.host;null==client&&(a=document.getElementById("comcenterhost").value,client=new segseatlib.jsclient(1,a,txtseatname.value,txtseatpwd.value,txtseatid.value,txtusertype.value,txtuserversion.value),segseatlib.addClient(client)),client.setCompress(!0),client.setEncrypt(),client.connect()}catch(b){alert(b)}}function Logout(){try{if(null==client)return;client.close()}catch(a){alert(a)}}function Reconnect(){try{if(null==client)return;client.reconnect()}catch(a){alert(a)}}function CloseConnect(){try{if(null==client)return;client.closeconnect()}catch(a){alert(a)}}function AddMonitor(){var a,b;try{if(null==client)return;a=txtcallletters.value.split(";"),b=txtinfotypes.value.split(";"),client.addMonitor(a,b)}catch(c){alert(c)}}function RemoveMonitor(){var a,b;try{if(null==client)return;a=txtcallletters.value.split(";"),b=txtinfotypes.value.split(";"),client.removeMonitor(a,b)}catch(c){alert(c)}}function GetLastInfo(a){try{if(null==client)return;var b=txtcallletters.value.split(";");txtsn.value=Math.uuid(),client.getLastInfo(a,b,txtsn.value)}catch(c){alert(c)}}function GetLastPosition(){GetLastInfo(segseatlib.message_type.DeliverGPS)}function GetLastOBD(){GetLastInfo(segseatlib.message_type.DeliverOBD)}function GetLastTravel(){GetLastInfo(segseatlib.message_type.DeliverTravel)}function GetLastFault(){GetLastInfo(segseatlib.message_type.DeliverFault)}function GetLastOperate(){GetLastInfo(segseatlib.message_type.DeliverOperateData)}function GetLastSm(){GetLastInfo(segseatlib.message_type.DeliverSMS)}function GetLastAlarm(){GetLastInfo(segseatlib.message_type.DeliverAlarm)}function GetLastUnitLoginout(){GetLastInfo(segseatlib.message_type.DeliverUnitLoginOut)}function GetLastFaultLight(){GetLastInfo(segseatlib.message_type.DeliverFaultLight)}function GetHistory(a){var b,c,d;try{if(null==client)return;b=SEGUtil_WS.string_2_date(txtstarttime.value),c=SEGUtil_WS.string_2_date(txtstoptime.value),d=txtcallletters.value.split(";"),d.length>0&&(historytype=a,txtsn.value=Math.uuid(),client.getHistoryInfo(d[0],historytype,b,c,100,1e3,!1,txtsn.value,!0))}catch(e){alert(e)}}function GetHistoryGPS(){GetHistory(segseatlib.message_type.DeliverGPS)}function GetHistorySimpleGps(){GetHistory(segseatlib.message_type.DeliverSimpleGPS)}function GetHistoryOBD(){GetHistory(segseatlib.message_type.DeliverOBD)}function GetHistoryTravel(){GetHistory(segseatlib.message_type.DeliverTravel)}function GetHistoryFault(){GetHistory(segseatlib.message_type.DeliverFault)}function GetHistoryOperate(){GetHistory(segseatlib.message_type.DeliverOperateData)}function GetHistorySm(){GetHistory(segseatlib.message_type.DeliverSMS)}function GetHistoryAlarm(){GetHistory(segseatlib.message_type.DeliverAlarm)}function GetHistoryUnitLoginout(){GetHistory(segseatlib.message_type.DeliverUnitLoginOut)}function GetHistoryFaultLight(){GetHistory(segseatlib.message_type.DeliverFaultLight)}function GetHistoryNextPage(){try{if(null==client)return;var a=txtcallletters.value.split(";");a.length>0&&client.getHistoryNextPage(a[0],historytype,txtsn.value)}catch(b){alert(b)}}function StopHistory(){try{if(null==client)return;var a=txtcallletters.value.split(";");a.length>0&&client.stopHistory(a[0],historytype,txtsn.value)}catch(b){alert(b)}}function GetCommandHistory(){var a,b,c;try{if(null==client)return;a=SEGUtil_WS.string_2_date(txtstarttime.value),b=SEGUtil_WS.string_2_date(txtstoptime.value),c=txtcallletters.value.split(";"),c.length>0&&client.getCommandHistory(c[0],a,b)}catch(d){alert(d)}}function NoParamCommand(a){try{if(null==client)return;txtsn.value=a+Math.uuid(16);var b=txtcallletters.value.split(";");client.sendUnitCommand(txtsn.value,b,a,null,!0),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", "+a+"\n"}catch(c){alert(c)}}function FindCar(){NoParamCommand(1)}function EngineOn(){var a,b;try{if(null==client)return;txtsn.value="0x0069-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=[],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,105,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 0x0069\n"}catch(c){alert(c)}}function Trace(){var a,b;try{if(null==client)return;txtsn.value="0x0015-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=["100","30"],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,21,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 0x0015\n"}catch(c){alert(c)}}function IntervalDeliver(){var a,b;try{if(null==client)return;txtsn.value="0x0038-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=["30"],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,56,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 0x0038\n"}catch(c){alert(c)}}function Listen(){var a,b;try{if(null==client)return;txtsn.value="0x0017-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=["26719595"],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,23,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 0x0017\n"}catch(c){alert(c)}}function UnitSMS(){var a,b,c;try{if(null==client)return;for(txtsn.value="0x0035-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=["赛格导航欢迎您！联系电话 - 075526719888, 952100"],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),c=0;c<a.length;c++)client.sendUnitCommand(txtsn.value+c,a[c].split(";"),53,b);log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 0x0035\n"}catch(d){alert(d)}}function SendSMS(){var a,b;try{if(null==client)return;txtsn.value="0x4035-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=["赛格导航欢迎您！联系电话 - 075526719888, 952100"],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,16437,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 0x4035\n"}catch(c){alert(c)}}function SetSOS(){var a,b;try{if(null==client)return;txtsn.value="0x00A6-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=["075526719988;120;110"],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,166,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 设置SOS\n"}catch(c){alert(c)}}function Navgate(){var a,b;try{if(null==client)return;txtsn.value="0x0292-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=[1,123.123456,22.345678],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,658,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 一键导航\n"}catch(c){alert(c)}}function Upgrade(){var a,b,c;try{if(null==client)return;for(txtsn.value="0x00A5-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=null,null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),c=0;c<a.length;c++)client.sendUnitCommand(txtsn.value+c,a[c].split(";"),165,b);log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 升级\n"}catch(d){alert(d)}}function OpenAirConditioner(){var a,b;try{if(null==client)return;txtsn.value="0x0065-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=[26,1,3,0,1,1,1,1],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,101,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 打开空调\n"}catch(c){alert(c)}}function BeiCarControl(){var a,b;try{if(null==client)return;txtsn.value="0x0313-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=[26,1,3,0,1,1,1,1],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,787,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 北汽远程控制\n"}catch(c){alert(c)}}function SetRollOverParameter(){var a,b;try{if(null==client)return;txtsn.value="0x00B6-"+Math.uuid(16),a=txtcallletters.value.split(";"),b=[1,3],null!=txtcommandparams&&(b=txtcommandparams.value.split(";")),client.sendUnitCommand(txtsn.value,a,182,b),log.value+=nowstring()+"下发指令:"+txtcallletters.value+", 海马校订侧翻参数\n"}catch(c){alert(c)}}function SeatBusy(){var a,b;try{if(null==client)return;a=txtcallletters.value.split(";"),b=null,a.length>0&&(b=a[0]),client.setAlarmBusy(txtseatname.value,txtseatid.value,!0,b)}catch(c){alert(c)}}function SeatIdle(){try{if(null==client)return;client.setAlarmBusy(txtseatname.value,txtseatid.value,!1)}catch(a){alert(a)}}function AcceptAlarm(){try{if(null==client)return;client.acceptAlarmACK(!0,txtseatname.value,txtalarmcaller.value,txtalarmsn.value)}catch(a){alert(a)}}function RefuseAlarm(){try{if(null==client)return;client.acceptAlarmACK(!1,txtseatname.value,txtalarmcaller.value,txtalarmsn.value)}catch(a){alert(a)}}function PauseAlarm(){try{if(null==client)return;client.pauseAlarm(txtseatname.value,txtalarmcaller.value,txtalarmsn.value,"等待客户回复电话"),txtcancelcaller.value=txtalarmcaller.value,txtcancelalarmsn.value=txtalarmsn.value}catch(a){alert(a)}}function CancelPauseAlarm(){try{if(null==client)return;client.CancelPauseAlarm(txtseatname.value,txtcancelcaller.value,txtcancelalarmsn.value)}catch(a){alert(a)}}function HandleAlarm(){try{if(null==client)return;""!=txtcancelcaller.value?(client.HandleAlarm(txtseatname.value,txtcancelcaller.value,txtcancelalarmsn.value,segseatlib.resultcode.OK,"处警结束"),txtcancelcaller.value="",txtcancelalarmsn.value=""):client.HandleAlarm(txtseatname.value,txtalarmcaller.value,txtalarmsn.value,segseatlib.resultcode.OK,"处警结束")}catch(a){alert(a)}}function AskSeatList(){try{if(null==client)return;client.AskSeatList(txtseatname.value,txtalarmcaller.value,!1)}catch(a){alert(a)}}function AskAlarmList(){try{if(null==client)return;client.AskAlarmList(txtseatname.value,!0,!0)}catch(a){alert(a)}}function TransferAlarm(){try{if(null==client)return;client.TransferAlarm(txtseatname.value,txttransferseatname.value,txtalarmcaller.value,txtalarmsn.value,"我不清楚怎么处理这种情况，请协助！")}catch(a){alert(a)}}function AcceptTransferAlarm(){try{if(null==client)return;client.AllotTransferAlarmACK(!0,txtseatname.value,txtalarmcaller.value,txtalarmsn.value,txttransferseatname.value)}catch(a){alert(a)}}function RefuseTransferAlarm(){try{if(null==client)return;client.AllotTransferAlarmACK(!1,txtseatname.value,txtalarmcaller.value,txtalarmsn.value,txttransferseatname.value)}catch(a){alert(a)}}function NewAlarm(){try{if(null==client)return;var a=txtcallletters.value.split(";");txtsn.value=Math.uuid(),client.NewAlarm(txtseatname.value,a[0],txtsn.value,(new Date).getTime(),txtalarmstatusid.value,txtalarmlevel.value,(new Date).getTime(),!0,112e6+1e5*Math.random(),22e6+1e5*Math.random(),10+20*Math.random(),1,"1,2,5,6,201")}catch(b){alert(b)}}var client=null,txtcallletters=document.getElementById("callletter"),txtinfotypes=document.getElementById("infotype"),txtseatname=document.getElementById("seatname"),txtseatid=document.getElementById("seatid"),txtseatpwd=document.getElementById("seatpwd"),txtsn=document.getElementById("sn"),txtstarttime=document.getElementById("starttime"),txtstoptime=document.getElementById("stoptime"),txtcommandparams=document.getElementById("commandparams"),txtalarmcaller=document.getElementById("alarmcaller"),txtalarmsn=document.getElementById("alarmsn"),txttransferseatname=document.getElementById("transferseatname"),txtcancelcaller=document.getElementById("cancelcaller"),txtcancelalarmsn=document.getElementById("cancelalarmsn"),txtalarmstatusid=document.getElementById("alarmstatusid"),txtalarmlevel=document.getElementById("alarmlevel"),txtusertype=document.getElementById("usertype"),txtuserversion=document.getElementById("userversion"),log=document.getElementById("log"),historytype=null;