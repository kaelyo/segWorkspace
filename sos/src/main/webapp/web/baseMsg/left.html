<!DOCTYPE html>
<html>
<head>
    <title>车型列表</title>
    <meta charset="UTF-8">
<!-- <link rel="stylesheet" type="text/css" href="../../bslib/css/bootstrap.min.css" /> -->
<!-- <link rel="stylesheet" type="text/css" href="../../css/tree.css">
<link rel="stylesheet" type="text/css" href="../../css/form.css"> -->
</head>
<body>
	<div class="row" style="text-align:left;margin:0;">
		<div class="col-xs-12 input-group">
			<span class="col-xs-9" style="padding:0;">
				<input type='text' id="keyword" name="keyword" class="form-control" style="height:26px;padding:0 3px;border-top-left-radius: 4px;border-bottom-left-radius: 4px;font-size: 12px;" />
			</span>
			<div class="col-xs-4 input-group-btn" style="padding:0;width:25%;">
				<button id="search_btn" type="button" class="btn btn-xs btn-primary" style="height:26px;width:100%;" onclick="search();" >搜索</button>
			</div>
		</div>
		
	</div>	
    <div id="company_tree" style="width:210px;margin:5px;overflow: scroll; overflow-y:auto;overflow-x:auto;width:300px; height:600px;">
    </div>
</body>
<script type="text/javascript">


var myclick = function(treenode){
	
	$("#image",$("#company_main")).show();
	$('#level','#company_main').val(treenode.level);
	
	$('#company_add','#company_main').css("color", "#fff");
	$('#company_add','#company_main').attr("disabled", false);
	$('#producer','#company_main').val("");
	
	$('#id','#company_main').val(treenode.id);
	$('#name','#company_main').val(treenode.name);
	$('#id_1','#company_main').val(treenode.id);
	
	
	$('#series_add','#company_main').hide();
	$('#model_add','#company_main').hide();
	$('#company_add','#company_main').show();
	$("#producer1",$("#company_main")).hide();
	
	 
		$('#brand_name','#company_main').val(treenode.name);
		$('#series_name','#company_main').val(treenode.name);
		$('#model_name','#company_main').val(treenode.name); 
	if(treenode.level==0){
		$("#company_detail",$("#company_main")).show();
		$("#model_detail",$("#company_main")).hide();
		
		$("#brand_name1",$("#company_main")).show();
		$("#series_name1",$("#company_main")).hide();
		$('#series_add','#company_main').show();
		$('#brand_name','#company_main').val(treenode.name);
		
		 $('#brand_id','#company_main').val(treenode.id);
		$('#brand_name_series','#company_main').val(treenode.name);
		
		$("#remark1",$("#company_main")).hide();
	}else if(treenode.level==1){
		
		$('#series_name1','#company_main').hide();
		$('#remark1','#company_main').hide();

		
		$("#company_detail",$("#company_main")).show();
		$("#model_detail",$("#company_main")).hide();
		
		$('#series_add','#company_main').show();
		$('#model_add','#company_main').show();
		$('#company_add','#company_main').hide();

		
	 	$('#series_id','#company_main').val(treenode.id);
		$('#series_name_model','#company_main').val(treenode.name); 
		
		$('#brand_id','#company_main').val(treenode.brand_id);
		$('#brand_name_series','#company_main').val(treenode.brand_name_series);
		$('#producer','#company_main').val(treenode.producer);
		$('#series_name','#company_main').val(treenode.name);
		$('#remark','#company_main').val(treenode.remark);
		
		$("#brand_name1",$("#company_main")).hide();
		$("#producer1",$("#company_main")).show();
		$("#series_name1",$("#company_main")).show();
		$("#remark1",$("#company_main")).show();
	}else{
		
		$('#id_1','#company_main').val(treenode.id);
		$('#series_id_1','#company_main').val(treenode.series_id);
		
		$("#company_detail",$("#company_main")).hide();
		$("#model_detail",$("#company_main")).show();
		
		$('#model_name','#company_main').val(treenode.name);
		
		$('#series_id','#company_main').val(treenode.series_id);
		$('#series_name_model','#company_main').val(treenode.series_name_model);
		if(treenode.img == null){
			$("#image",$("#company_main")).hide();
		}else{
			$('#image','#company_main').attr("src",treenode.img); 
		}
		$('#oil_volume','#company_main').val(treenode.oil_volume);
		$('#standart_oil','#company_main').val(treenode.standart_oil);
		$('#displacement','#company_main').val(treenode.displacement);
		$('#center_control','#company_main').val(treenode.center_control);
		$('#horn_control','#company_main').val(treenode.horn_control);
		$('#window_control','#company_main').val(treenode.window_control);
		$('#first_service_mileage','#company_main').val(treenode.first_service_mileage);
		$('#first_service_time','#company_main').val(treenode.first_service_time);
		$('#second_service_mileage','#company_main').val(treenode.second_service_mileage);
		$('#second_service_time','#company_main').val(treenode.second_service_time);
		$('#interval_mileage','#company_main').val(treenode.interval_mileage);
		$('#interval_time','#company_main').val(treenode.interval_time);
		$('#car_type_year','#company_main').val(treenode.car_type_year);
		
		
	}
	
}


function search() {
	  $('#company_tree').html("");
	  var name = $('#keyword').val();
	/* $('#company_tree').sgTree('reload'); */
	   var defaults = {
		        isexpend: true,
		        url: '../../brand/brandTree',
		        data : JSON.stringify({
		        	name : name
				}),
		        root: '车型列表',
		        onclick: myclick
		    };
		    $('#company_tree').sgTree(defaults); 
}



(function($){

    var defaults = {
        isexpend: true,
        url: '../../brand/brandTree',
        root: '车型列表',
        onclick: myclick
    };
    $('#company_tree').sgTree(defaults);
})(jQuery)
    
</script>
</html>